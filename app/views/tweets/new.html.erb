<h1>New Tweet</h1>

<%= form_with model: @tweet, local: true do |form| %>
  <% if @tweet.errors.any? %>
    <div>
      <h2><%= @tweet.errors.count %> error(s) found:</h2>
      <ul>
        <% @tweet.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <label for="tweet_message">メッセージ</label>
    <%= form.text_area :message, maxlength: 140, id: "tweet_message" %>
  </div>

  <div>
    <%= form.submit 'Tweet' %>
  </div>
<% end %>

<div>
  <%= link_to "Back to Tweets", tweets_path %>
</div>

<% if flash[:error] %>
  <div style="color: red;"><%= flash[:error] %></div>
<% end %>